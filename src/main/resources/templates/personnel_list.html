<!DOCTYPE html>
<!-- No longer needed since using data-th syntax: xmlns:th="http://www.thymeleaf.org"-->
<html lang="en">
<head>

    <meta charset="UTF-8">
    <title>eFinance Personnel List</title>
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0"
          crossorigin="anonymous">-->
    <link th:href="@{/styles/atz.css}"
          rel="stylesheet">
</head>
<body style="background-color:lightgrey;">
<div data-th-replace="common/head :: head"></div>
    <div class="container text-center">
        <h1 data-th-text ="'Welcome to eFinance, ' + ${personnel.firstName} + '!'"></h1>
        <div data-th-replace="common/logout_button :: logout_button"></div>
        <br><br>
        <hr>
    </div>
    <div class="container my-2">
        <h2>Loan Personnel List</h2>
        <table border="1" class = "table table-striped table-responsive-md" style="background-color:white;">
            <thead>
            <tr>
                <th>Employee ID</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Email Address</th>
                <th>Admin Permissions (Y/N)</th>
                <th></th><th></th> <!-- Creates border to separate table header section from update/delete buttons -->
            </tr>
            </thead>
            <tbody>
                <!-- $ dialect used for variables -->
            <tr data-th-each="personnel : ${listPersonnel}">
                <td data-th-text="${personnel.employeeId}"></td>
                <td data-th-text="${personnel.firstName}"></td>
                <td data-th-text="${personnel.lastName}"></td>
                <td data-th-text="${personnel.email}"></td>
                <td data-th-text="${personnel.adminPermissions}"></td>
                <!-- @ dialect used for links -->
                <td> <a data-th-href="@{/showUpdateForm/(pId=${personnel.pId})}" class="btn btn-primary">Update</a></td>
                <td> <a data-th-href="@{/deletePersonnel/(pId=${personnel.pId})}" class="btn btn-danger"
                        data-th-onclick="return confirm('Are you sure you would like to delete this personnel?')">Delete</a></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="container my-2">
        <br/>
        <a data-th-href = "@{/showNewPersonnelForm}" class="btn btn-primary btn-sm mb-3">Add Loan Personnel</a>
        <br/>
    </div>
</body>
</html>